{
   "type":"origins:multiple",
   "create":{
      "type":"origins:action_on_block_use",
      "block_action":{
         "type":"origins:and",
         "actions":[
            {
               "type":"origins:execute_command",
               "command":"playsound minecraft:block.amethyst_block.chime block @p ~ ~ ~ 1.00 0.90 1.00"
            },
            {
               "type":"origins:delay",
               "action":{
                  "type":"origins:and",
                  "actions":[
                     {
                        "type":"origins:execute_command",
                        "command":"playsound minecraft:entity.firework_rocket.blast block @p ~ ~ ~ 0.40 1.00 0.40"
                     },
                     {
                        "type":"origins:execute_command",
                        "command":"particle minecraft:witch ~ ~ ~ 0.922 0.314 0.314 0.0 16 normal @a"
                     },
                     {
                        "type":"origins:execute_command",
                        "command":"particle minecraft:cloud ~ ~ ~ 0.922 0.314 0.314 0.0 16 normal @a"
                     },
                     {
                        "type":"origins:set_block",
                        "block":"minecraft:air"
                     },
                     {
                        "type":"origins:spawn_entity",
                        "entity_type":"minecraft:item",
                        "tag":"{Item:{id:\"minecraft:written_book\",count:1,components:{\"minecraft:rarity\":\"rare\",\"minecraft:custom_data\":{thaumaturge:blank_thaumonomicon},\"minecraft:written_book_content\":{title:\"§kThaumonomicon\",author:\"§kAzanor\"}}}}"
                     }
                  ]
               },
               "ticks":70
            }
         ]
      },
      "block_condition":{
         "type":"origins:block",
         "block":"minecraft:bookshelf"
      },
      "item_condition":{
         "type":"origins:and",
         "conditions":[
            {
               "type":"origins:ingredient",
               "ingredient":{
                  "item":"minecraft:sugar"
               }
            },
            {
               "type":"origins:custom_data",
               "nbt":"{thaumaturge:salis_mundus}"
            }
         ]
      },
      "directions":[
         "north",
         "east",
         "south",
         "west",
         "up",
         "down"
      ],
      "hands":[
         "main_hand"
      ],
      "held_item_action":{
         "type":"origins:consume",
         "amount":1
      },
      "usage_phases":[
         "item"
      ],
      "action_result":"success",
      "condition":{
         "type":"origins:and",
         "conditions":[
            {
               "type":"origins:resource",
               "resource":"origins-classes:thaumaturge/fundamentals/strange_dreams_sleep_detect_resource",
               "comparison":"==",
               "compare_to":1
            },
            {
               "type":"origins:advancement",
               "advancement":"origins-classes:thaumaturge/fundamentals/touch_of_the_unknown"
            }
         ]
      }
   },
   "generate_in_inventory":{
      "type":"origins:action_over_time",
      "rising_action":{
         "type":"origins:replace_inventory",
         "inventory_type":"inventory",
         "item_action":{
            "type":"origins:modify",
            "modifier":"origins-classes:thaumaturge/fundamentals/thaumonomicon"
         },
         "item_condition":{
            "type":"origins:and",
            "conditions":[
               {
                  "type":"origins:ingredient",
                  "ingredient":{
                     "item":"minecraft:written_book"
                  }
               },
               {
                  "type":"origins:custom_data",
                  "nbt":"{thaumaturge:blank_thaumonomicon}"
               }
            ]
         },
         "stack":{
            "item":"minecraft:written_book",
            "amount":1
         },
         "merge_nbt":false
      },
      "interval":1,
      "condition":{
         "type":"origins:inventory",
         "inventory_types":[
            "inventory"
         ],
         "process_mode":"items",
         "item_condition":{
            "type":"origins:and",
            "conditions":[
               {
                  "type":"origins:ingredient",
                  "ingredient":{
                     "item":"minecraft:written_book"
                  }
               },
               {
                  "type":"origins:custom_data",
                  "nbt":"{thaumaturge:blank_thaumonomicon}"
               }
            ]
         },
         "comparison":"!=",
         "compare_to":0
      }
   }
}